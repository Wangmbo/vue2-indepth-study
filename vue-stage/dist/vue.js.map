{"version":3,"file":"vue.js","sources":["../src/utils.js","../src/observer/array.js","../src/observer/dep.js","../src/observer/index.js","../src/state.js","../src/compiler/parse.js","../src/compiler/generate.js","../src/compiler/index.js","../src/observer/schedular.js","../src/observer/watcher.js","../src/vdom/patch.js","../src/lifecycle.js","../src/init.js","../src/vdom/index.js","../src/render.js","../src/index.js"],"sourcesContent":["export function isFuntion(data) {\n  return typeof data === 'function'\n}\n\nexport function isObject(val) {\n  return typeof val === 'object' && val != null\n}\n\nfunction flushCallBacks() {\n  callbacks.forEach(cb => cb())\n  watting = false\n}\nconst callbacks = []\nlet watting = false\n\nfunction timerFn() {}\n\nif(Promise) {\n  timerFn = () => {\n    Promise.resolve().then(flushCallBacks)\n  }\n} else if (MutationObserver) {\n  let textNode = document.createTextNode(1)\n  let observe = new MutationObserver(flushCallBacks)\n  observe.observe(textNode, {\n    characterData: true\n  })\n\n  timerFn = () => {\n    textNode.textContent = 3\n  }\n  // 微任务\n} else if (setImmediate) {\n  timerFn = () => {\n    setImmediate(flushCallBacks)\n  }\n} else {\n  timerFn = () => {\n    setTimeout(flushCallBacks)\n  }\n}\n\nexport function nextTick(cb) {\n  callbacks.push(cb)\n  if(!watting) {\n    // TODO 这里面到底用啥比较好\n    // vue2 考虑了兼容性问题\n    // vue3 直接用的Promise\n    timerFn()\n    watting = true\n  }\n}\n\n// TODO 异步更新原理 记录nextTick 原理\n\n// TODO 微任务是在页面渲染前执行，但是我取的是内存中的dom，不关心你渲染完毕没有\n// dom树已经更新了...\n// Promise.then\n\n// 明天整理归纳","export let arrayMethods = Object.create(Array.prototype)\n\nlet oldArrayPrototype = Array.prototype\n\nlet methods = ['push', 'shift', 'pop', 'unshift', 'reverse', 'splice', 'sort']\n\nmethods.forEach(method => {\n  arrayMethods[method] = function(...args) {\n    console.log('数组发生变化...')\n    // TODO 如果是push了一个对象之类的，也需要劫持...\n    const result = oldArrayPrototype[method].call(this, ...args)\n    // 如果有新增，我们要监控的是数组的每一项，而不是数组\n    let addList\n    switch (method) {\n      case 'push': \n      case 'unshift':\n        addList = args\n        break;\n      case 'splice':\n        addList = args.concat(2)\n        break;\n      default:\n    }\n    console.log(this.__ob__)\n    this.__ob__.observeArray(addList)\n    console.log(addList, 'addList')\n    return result\n  }\n})","let id = 0;\nexport default class Dep {  // 每个属性都分配一个dep， dep可以存放watcher，watcher还要存放这个dep\n  constructor() {\n    this.id = id++\n    this.subs = [] //用来存放watcher\n  }\n\n  depend() {\n    if(Dep.target) {\n      Dep.target.addDep(this)\n    }\n    // Dep.target dep\n  }\n  addSub(watcher) {\n    this.subs.push(watcher)\n  }\n  notify() {\n    // TODO 会被多次更新...\n    this.subs.forEach(item => {\n      item.update()\n    })\n  }\n}\nDep.target = null\nexport function pushTarget(watcher) {\n  Dep.target = watcher\n}\n\nexport function popTarget() {\n  Dep.target = null\n}\n\n\n// TODO watcher 和 dep 之间的关系...\n// 依赖和watcher之间的关系\n// 依赖和收集依赖\n// 多对多的关系..","import { isObject } from \"../utils\";\nimport { arrayMethods } from './array'\nimport Dep from \"./dep\";\n\n// 如果数据是对象 会将对象不停地递归 进行劫持\n// 如果是数组， 会劫持数组的方法，并对数组中不是基本数据类型的进行检测\nclass Observe {\n  constructor(data) { // 对对象中的所有属性进行劫持\n    Object.defineProperty(data, '__ob__', {\n      value: this,\n      enumerable: false\n    })\n    // data.__ob__ = this\n    if(Array.isArray(data)) {\n      // 数组劫持的逻辑\n      // 核心思想是对数组的方法进行劫持\n      // 对数组原来的方法进行改写，切片编程 高阶函数\n      data.__proto__ = arrayMethods\n\n      this.observeArray(data)\n    } else {\n      this.walk(data)\n    }\n  }\n  // 循环遍历劫持...\n  walk(data) { // 对象\n    Object.keys(data).forEach((key) => {\n      defineReactive(data, key, data[key])\n    })\n  }\n\n  observeArray(data) {\n    // console.log(data, 'observeArray')\n    data.forEach(item => {\n      observe(item)\n    })\n  }\n}\n\nfunction defineReactive(data, key, value) {\n  observe(value)\n  // TODO Object.defineProperties\n  console.log(data, 'data')\n  let dep = new Dep() // 每个属性都有一个dep属性\n  Object.defineProperty(data, key, {\n    get() {\n      // 取值时我希望将watcher和dep对应起来\n      // console.log(key, 'get ')\n      // Dep.target\n      if(Dep.target) { // 此值是在模板中取值的\n        dep.depend() // 让dep\n      }\n      return value\n    },\n    set(val) {\n      if(val ===  value) return\n      console.log(key, val, 'set')\n      observe(value) // 如果用户赋值了一个新对象， 需要对这个新对象进行劫持\n      value = val\n      dep.notify() // 通知dep属性更新\n    }\n  })\n}\n\n// import { isObject } from '../utils'\nexport function observe(data) {\n  if(data.__ob__) return\n  // 如果是对象才观测\n  if(!isObject(data)) return\n  // if(!isObject(data)) return\n  return new Observe(data)\n}\n// vue2 没有对数组进行索引的劫持\n// 而且一般用户很少通过索引去操作数组.\n// 内部就想到不对索引进行拦截，因为消耗严重.\n// 数组没有监控索引的变化，但是索引对应的内容是对象类型，需要被监控\n\n// 重写了push shift pop unshift reverse sort splice\n// 这几个方法","import { observe } from './observer/index'\nimport { isFuntion } from './utils'\nexport function initState(vm) {\n  const opts = vm.$options\n  if(opts.data) {\n    initData(vm)\n  }\n  if(opts.props) {\n\n  }\n}\n\n\nfunction initData(vm) { // vm\n  let data  = vm.$options.data\n  // 会将data中的所有数据进行数据劫持\n  // defineProperty\n  // 判断类型\n  console.log(data)\n  data = vm._data = isFuntion(data) ? data.call(vm) : data\n\n  for(let key in data) {\n    proxy(vm, '_data', key)\n  }\n  observe(data)\n  // console.log(data)\n}\n\n\nfunction proxy(vm, source, key) {\n  Object.defineProperty(vm, key, {\n    get() {\n      return vm[source][key]\n    },\n    set(newValue) {\n      vm[source][key] = newValue\n    }\n  })\n}\n","const unicodeRegExp = /a-zA-Z\\u00B7\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u203F-\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD/\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z${unicodeRegExp.source}]*` // 标签名\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})` // 用来获取的名的\n// match 后的索引为1的\n\n// Regular Expressions for parsing tags and attributes\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/\n// a=b a=\"b\" a='b'\nconst dynamicArgAttribute = /^\\s*((?:v-[\\w-]+:|@|:|#)\\[[^=]+?\\][^\\s\"'<>\\/=]*)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/\nconst startTagOpen = new RegExp(`^<${qnameCapture}`) // 匹配开始标签\nconst startTagClose = /^\\s*(\\/?)>/ // <div/>\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`) // 匹配闭合标签\nconst doctype = /^<!DOCTYPE [^>]+>/i\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\n\n// html字符串解析成dom树 <div id=\"app\"> {{ name }} </div>\n// 将解析后的结果，组装成一个树结构 栈\n// ast 语法层面的描述\n// vdom dom节点\nlet root = null\nlet stack = []\nexport function paeserHTML(html) {\n  function advance(len) {\n    html = html.substring(len)\n  }\n  function parseStartTag() {\n    const start = html.match(startTagOpen)\n    if(start) {\n      const match = {\n        tagName: start[1],\n        attrs: []\n      }\n      advance(start[0].length)\n      // 如果没有遇到皆为标签就不停的解析\n      let end\n      let attr\n      while((!(end = html.match(startTagClose)) && (attr = html.match(attribute)))) {\n        // console.log(attr, 'attr')\n        match.attrs.push({ name: attr[1], value: attr[3] || attr[4] || attr[5] })\n        console.log(attr, '??attr')\n        console.log(html, 'ggg');\n        advance(attr[0].length)\n        console.log(html, '?啦啦啦')\n      }\n      if(end) {\n        console.log(end, 'end')\n        advance(end[0].length)\n        console.log(html, 'end')\n      }\n      return match\n    }\n    return false\n  }\n  function createAstElement(tagName, attrs) {\n    return {\n      tag: tagName,\n      type: 1,\n      children: [],\n      parent: null,\n      attrs\n    }\n  }\n  function start(tagName, attributes) {\n    let parent = stack[stack.length - 1]\n    const element = createAstElement(tagName, attributes)\n    if(!root) {\n      root = element\n    }\n    element.parent = parent // 当放入栈中时，记录父亲是谁\n    if(parent) parent.children.push(element)\n    stack.push(element)\n  }\n  function end(tagName) {\n    // 弹出...\n    let last = stack.pop()\n    console.log(last, tagName, '--------')\n    if(last.tag !== tagName) {\n      throw new Error('标签有误')\n    }\n  }\n  function chars(text) {\n    console.log(text, 'text');\n    console.log(stack, 'stack')\n    text = text.replace(/\\s/g, \"\")\n    const parent = stack[stack.length - 1]\n    // console.log(parent, 'parent')\n    if(text) {\n      parent.children.push({\n        type: 3,\n        text\n      })\n    }\n  }\n  while(html) { // 解析的内容是否存在，如果存在就不停的解析 // htmlParse2\n    let textEnd = html.indexOf('<') // 当前解析的开头\n    if(textEnd === 0) {\n       const startTagMatch = parseStartTag()\n       console.log(startTagMatch, 'startTagMatch')\n       if(startTagMatch) {\n        start(startTagMatch.tagName, startTagMatch.attrs)\n        continue\n       }\n       const endTagMatch = html.match(endTag)\n       console.log(endTagMatch)\n       if(endTagMatch) {\n        end(endTagMatch[1])\n        advance(endTagMatch[0].length)\n        continue\n       }\n    }\n    let text // 1111</div>\n    if(textEnd > 0) {\n      console.log(html, 'html??');\n      text =  html.substring(0, textEnd)\n    }\n    if(text) {\n      chars(text)\n      advance(text.length)\n    }\n  }\n  return root\n}","// TODO 梳理整个思路。。。\n// 看一下用户是否传入了 render \n// 未传入render ，没传入可能传入的是template，如果template也没有传递\n// 将html进行词法解析（开始标签，结束标签 属性 文本）\n// ast 语法树  用来描述html语法的stack = []\n// codegen   <div>hello</div> => _c('div',{},'hello') 让字符串执行\n// eval 耗性能 会有作用域问题\n\n// 模板引擎 new Function\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\n\nexport function generate(el) {\n  console.log(el)\n  // 遍历树 将树拼接成字符串\n  let children = genChildren(el)\n  let code = `_c(\"${ el.tag }\",${el.attrs.length ? genProps(el.attrs) : 'undefined'}${ children ? `,${children}`  : '' })`\n\n  return code\n}\n\nfunction gen (el) {\n  if(el.type === 1) return generate(el)\n  // console.log(el, 'el??');\n  if(el.type === 3) {\n    let text = el.text\n    if(!defaultTagRE.test(text)) {\n      return `_v('${text}')`\n    } else {\n      // 'hello' + arr + 'world'\n      let tokens = []\n      let match\n      let lastIndex = defaultTagRE.lastIndex = 0\n      // console.log(text, 'text')\n      // console.log(defaultTagRE.exec(text))\n      while(match = defaultTagRE.exec(text)) {\n        let index = match.index // 开始索引\n        // console.log(index, 'lastIndex')\n        if(index > lastIndex) {\n          console.log(match, 'match')\n          tokens.push(JSON.stringify(text.slice(lastIndex, index)))\n        }\n        tokens.push(`_s(${match[1].trim()})`) // JSON.stringify..\n        lastIndex = index + match[0].length\n      }\n      if(lastIndex < text.length) {\n        tokens.push(JSON.stringify(text.slice(lastIndex)))\n      }\n      return `_v(${tokens.join('+')})`\n    }\n  }\n}\n\nfunction genChildren(el) {\n  let children = el.children\n  if(children) {\n    return children.map(c => gen(c)).join(',')\n  }\n}\n\nfunction genProps(attrs) {\n  let str = ''\n  for(let i = 0; i < attrs.length; i++) {\n    let attr = attrs[i]\n    if(attr.name === 'style') {\n      let styleObj = {}\n      attr.value.replace(/([^;:]+)\\:([^;:]+)/g, function() {\n        styleObj[arguments[1]] = arguments[2]\n      })\n      attr.value = styleObj\n    }\n    str += `${attr.name}:${JSON.stringify(attr.value)},`\n  }\n  return `{${str.slice(0, -1)}}`\n}","import { paeserHTML } from './parse'\nimport { generate } from './generate'\n\nexport function compileToFunction(template) {\n  const root = paeserHTML(template)\n  console.log(root, 'root')\n  const code = generate(root)\n  console.log(code, 'code')\n  const render = new Function(`with(this){return ${code}}`) // code中会用到数据 数据在vm上\n  console.log(render.toString(), '/?')\n  // render.call(vm)\n  return render\n}\n// html => ast(只能描述语法 语法不存在的属性无法描述) => render函数 + （width + new Function）  => 虚拟dom => 生成真实dom\n// TODO with 函数 正则函数..","import { nextTick } from \"../utils\"\n\nlet queue = []\nlet has = {} // 做列表维护 存放了哪些watcher\nlet pedding = false\nfunction flushSchedulerQueue() {\n  queue.forEach(item => {\n    item.run()\n  })\n  queue = []\n  has = {}\n  pedding = false\n}\n// 同一个watcher\n// 多次dep修改只会执行更新一次\nexport function queueWacther(watcher) { // 当前执行栈中代码执行完毕后，会先清空微任务，再清空宏任务，我希望更早的渲染\n  const id = watcher.id\n  if(!has[id]) {\n    queue.push(watcher)\n    has[id] = true\n  }\n\n  if(!pedding) {\n    // 数据更新完毕之后拿到最新的dom内容\n    // 如果用户不停的写定时器，会开启多个线程\n    nextTick(flushSchedulerQueue, 0)\n    // setTimeout(flushSchedulerQueue, 0)\n    pedding = true\n  }\n}\n\n// 使用setTimeout","import { popTarget, pushTarget } from \"./dep\"\nimport { queueWacther } from \"./schedular\"\n\nlet id = 0\nclass Watcher {\n  constructor(vm, exprOrFn, cb, options) {\n    this.vm = vm\n    this.exprOrFn = exprOrFn\n    this.cb = cb\n    this.options = options\n    this.id = id++\n    // 默认执行\n    // this.exprOrFn() // 生成render \n    this.getter = exprOrFn\n    this.deps = []\n    this.depsId = new Set()\n    this.get()\n  }\n  // 用户更新时重新调用getter方法\n  get() {\n    //  defineProperty.get\n    //  每个属性都可以收集自己的watcher\n    // 我希望一个属性可以对应多个watcher 同时一个watcher对应多个属性\n    pushTarget(this)\n    // 每一个组件都有一个watcher 组件渲染之前会建立这个watcher 并且将属性的依赖和该watcher关联起来\n    this.getter()\n    popTarget()\n  }\n  run() {\n    console.log('run')\n    this.get()\n  }\n  update() {\n    queueWacther(this)\n    // 多次调用update 我希望将wathcer缓存下来，等一会一起更新\n  }\n  addDep(dep) {\n    const id = dep.id\n    if(!this.depsId.has(id)) {\n      this.depsId.add(id)\n      this.deps.push(dep)\n      dep.addSub(this)\n    }\n  }\n}\n\n// 明天抽时间整理\n// watcher 和 dep\n// 我们将更新的功能封装了一个watcher\n// 渲染页面前，会将当前watcher放到Dep类上\n// 在vue中页面渲染时使用的属性，需要进行依赖收集，收集对象的渲染watcher\n// 取值时，给每个属性都加了个dep属性，用于存储这个渲染watcher（同一个watcher会对应多个dep）\n// 每个属性可能对应多个视图（多个视图肯定是多个watcher），一个属性要对应多个watcher\n// dep.depend () => 通知dep存放watcher => Dep.target.addDep() 通知watcher 存放dep\n// 双向存储\n\n// TODO 逻辑过一遍..\n\n// TODO 多次更新只走一次...\n\nexport default Watcher","export function patch(oldVnode, vnode) {\n  if(oldVnode.nodeType == 1) {\n    // 真实元素\n    // 用vnode 来生成真实dom替换成原本的dom元素\n    // 删除原来的节点 然后用虚拟节点生成的dom放置到老节点的下一个节点\n    const parentElm = oldVnode.parentNode\n\n    const elm = createEle(vnode)\n    // 在第一次渲染后 删除掉节点， 下次无法获取\n    parentElm.insertBefore(elm, oldVnode.nextSibling)\n\n    parentElm.removeChild(oldVnode)\n\n    return elm\n  }\n}\n\nfunction createEle(vnode) {\n  let { tag, data, children, text, vm } = vnode\n  if(typeof vnode.tag === 'string') {\n    vnode.el = document.createElement(tag) // 虚拟节点会有一个el属性对应真实节点\n\n    children.forEach(child => {\n      vnode.el.appendChild(createEle(child))\n    })\n  } else {\n    vnode.el = document.createTextNode(text)\n  }\n  return vnode.el\n}","import Watcher from \"./observer/watcher\"\nimport { nextTick } from \"./utils\"\nimport { patch } from \"./vdom/patch\"\n\nexport function lifecycleMixin(Vue) {\n  Vue.prototype._update = function(vnode) {\n    console.log('update vnode-----', vnode)\n    // 初始化 更新\n    // 既有初始化 又有更新 比较前后差异\n    const vm = this\n    vm.$el = patch(vm.$el, vnode)\n    // 更新不需要重新的词法分析，只需要重新调用render\n    // 不管怎么样初始的html是固定的\n    // 将虚拟dom生成真实dom\n  }\n}\n\n// 后续每个组件渲染的时候都有一个watcher\nexport function mountComponent(vm, el) {\n  // 更新函数 数据变化后 会再次调用此函数\n  let updateComponent = () => {\n    // 调用render函数 生成虚拟dom\n    vm._update(vm._render()) // 后续更新可以调用updateCompoennt方法\n    // 用虚拟dom生成真实dom\n    // 重新调用render方法产生虚拟dom 目前还没有diff\n  }\n  vm.$nextTick = nextTick\n  // 观察者模式 属性是被观察者  属性页面：观察者\n  new Watcher(vm, updateComponent, () => {\n    console.log('更新视图了')\n  }, true) // 它是一个渲染watcher 后续有其他的watcher\n}","import { initState } from './state'\nimport { compileToFunction } from './compiler/index'\nimport { mountComponent } from './lifecycle'\nexport function initMixin(Vue) { // 表示在vue的基础上做一次混合操作\n  // 默认下划线是私有的\n  Vue.prototype._init = function(options) {\n    console.log(options)\n    const vm = this\n    // vue内部会对属性检测如果是$开头的就不会进行代理\n    vm.$options = options // 后面会对options进行扩展, 这里目前是用户传入的options\n\n    // 对数据进行初始化 watch computed props data\n    initState(vm) // vm 指向当前实例\n\n\n    if(vm.$options.el) {\n      vm.$mount(vm.$options.el)\n    }\n  }\n\n  Vue.prototype.$mount = function(el) {\n    const vm = this\n    const options = vm.$options\n    el = document.querySelector(el)\n    vm.$el = el\n\n    if(!options.render) {\n      let template = options.template\n      if(!template && el) {\n        template = el.outerHTML\n        // TODO 生成render函数...\n        // 渲染render...\n        // console.log(template)\n        console.log(template)\n        options.render = compileToFunction(template)\n      }\n    }\n\n    console.log(options.render, 'render...') // 调用render 渲染真实dom 替换掉页面的内容\n    mountComponent(vm, el) // 组件的挂载流程\n  }\n}\n\n\n// 把模板转化成 对应的渲染函数 =》 虚拟dom概念 vnode =》 diff 算法 更新虚拟dom => 产生真实节点，更新\n//  vm.$options render 函数 就不用将模板转为渲染函数了\n// 没有render就用template\n\n// options.render 就是渲染函数","export function createElement(vm, tagName, data = {}, ...children) {\n  // console.log(vm, tagName, data = {}, ...children, 'createElement')\n  return vnode(vm, tagName, data, data.key, children, undefined)\n}\n\nexport function createTextElement(vm ,text) {\n  // console.log(vm, text, 'createTextElement')\n    return vnode(vm, undefined, undefined, undefined, undefined, text)\n}\n\n// export function \n// TODO 虚拟DOM生成完毕...\n// TODO 整理思路!!!!\nfunction vnode(vm, tag, data, key, children, text) {\n  return {\n    vm,\n    tag,\n    data,\n    key,\n    children,\n    text\n    // ...\n  }\n}","import { createElement, createTextElement } from \"./vdom/index\"\n\nexport function renderMixin(Vue) {\n  Vue.prototype._c = function(tagName, attr, ...children) {\n    console.log(tagName, attr, children, '_c')\n    return createElement(this, ...arguments)\n  }\n  Vue.prototype._v = function(text) { // \n    // console.log(text ,'?_v')\n    return createTextElement(this, text)\n  }\n  Vue.prototype._s = function(val) {\n    // return this[val]\n    if(typeof val === 'object') return JSON.stringify(val)\n    return val\n  }\n\n  Vue.prototype._render = function() {\n    const vm = this\n    let render = vm.$options.render // 解析出来的render方法\n    // 也有可能是用户写的\n    let vnode = render.call(vm)\n    // TODO _v _c 等方法没有\n    // console.log('render');\n    // 生成虚拟dom\n    return vnode\n  }\n}","import { initMixin } from './init'\nimport { lifecycleMixin } from './lifecycle'\nimport { renderMixin } from './render'\nfunction Vue(options) {\n  // options 为用户传入的选项\n  this._init(options)\n}\n\ninitMixin(Vue)\nrenderMixin(Vue)\nlifecycleMixin(Vue)\n// renderMixin() // _render\n// lifecycleMixin() // _update\n\nexport default Vue"],"names":["isFuntion","data","isObject","val","flushCallBacks","callbacks","forEach","cb","watting","timerFn","Promise","resolve","then","MutationObserver","textNode","document","createTextNode","observe","characterData","textContent","setImmediate","setTimeout","nextTick","push","arrayMethods","Object","create","Array","prototype","oldArrayPrototype","methods","method","console","log","args","result","call","addList","concat","__ob__","observeArray","id","Dep","subs","target","addDep","watcher","item","update","pushTarget","popTarget","Observe","defineProperty","value","enumerable","isArray","__proto__","walk","keys","key","defineReactive","dep","get","depend","set","notify","initState","vm","opts","$options","initData","props","_data","proxy","source","newValue","unicodeRegExp","ncname","qnameCapture","attribute","startTagOpen","RegExp","startTagClose","endTag","root","stack","paeserHTML","html","advance","len","substring","parseStartTag","start","match","tagName","attrs","length","end","attr","name","createAstElement","tag","type","children","parent","attributes","element","last","pop","Error","chars","text","replace","textEnd","indexOf","startTagMatch","endTagMatch","defaultTagRE","generate","el","genChildren","code","genProps","gen","test","tokens","lastIndex","exec","index","JSON","stringify","slice","trim","join","map","c","str","i","styleObj","arguments","compileToFunction","template","render","Function","toString","queue","has","pedding","flushSchedulerQueue","run","queueWacther","Watcher","exprOrFn","options","getter","deps","depsId","Set","add","addSub","patch","oldVnode","vnode","nodeType","parentElm","parentNode","elm","createEle","insertBefore","nextSibling","removeChild","createElement","child","appendChild","lifecycleMixin","Vue","_update","$el","mountComponent","updateComponent","_render","$nextTick","initMixin","_init","$mount","querySelector","outerHTML","undefined","createTextElement","renderMixin","_c","_v","_s"],"mappings":"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"}